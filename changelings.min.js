!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,t,n){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=30)}([function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MODE_IDLE="idle",t.MODE_PANNING="panning",t.MODE_ZOOMING="zooming",t.TOOL_NONE="none",t.TOOL_ZOOM="zoom",t.TOOL_PAN="pan",t.TOOL_ZOOM_IN="zoom-in",t.TOOL_ZOOM_OUT="zoom-out",t.DIRECTION_UP="up",t.DIRECTION_RIGHT="right",t.DIRECTION_DOWN="down",t.DIRECTION_LEFT="left",t.DIRECTION_NONE="none"},function(e,t){e.exports=React},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(28),u=n(5),s=n(17),l=r(s),c=n(0),f=function(e){return{a:e.a,b:e.b,c:e.c,d:e.d,e:e.e,f:e.f}},h=function(){function e(){o(this,e)}return a(e,null,[{key:"getDefaultValue",value:function(){var e=new i.Matrix;return{mode:c.MODE_IDLE,matrix:f(e),specialKeyEnabled:!1,focus:!1}}},{key:"zoom",value:function(t,n,r,o){var a=t.matrix,u=a.a,s=a.b,h=a.c,d=a.d,p=a.e,v=a.f,y=i.Matrix.from(u,s,h,d,p,v),O=e.getSVGPoint(t,r,o),m=new i.Matrix;return m=m.translate(O.x,O.y),m=m.scaleU(n),m=m.translate(-O.x,-O.y),y=y.multiply(m),(0,l.default)(t,{$merge:{mode:c.MODE_IDLE,matrix:f(y)}})}},{key:"pan",value:function(e,t,n){var r=e.matrix,o=r.a,a=r.b,u=r.c,s=r.d,h=r.e,d=r.f,p=i.Matrix.from(o,a,u,s,h,d),v=new i.Matrix;return v=v.translate(t,n),p=p.multiply(v),(0,l.default)(e,{$merge:{mode:c.MODE_IDLE,matrix:f(p)}})}},{key:"startPan",value:function(e,t,n){var r=e.matrix;return(0,l.default)(e,{$merge:{mode:c.MODE_PANNING,startX:t,startY:n,matrix:f(r)}})}},{key:"updatePan",value:function(e,t,n,r,o,a,u,s){if(e.mode!==c.MODE_PANNING)throw new Error("update pan not allowed in this mode "+e.mode);var h=e.matrix,d=h.a,p=h.b,v=h.c,y=h.d,O=h.e,m=h.f,g=i.Matrix.from(d,p,v,y,O,m),M=g.decompose(!1).scale.x,_=(e.startX-t)/M,x=(e.startY-n)/M,w=new i.Matrix;return w=w.translate(-_,-x),g=g.multiply(w),g.e=Math.min(g.e,u-r),g.e=Math.max(g.e,r-o*M),g.f=Math.min(g.f,s-r),g.f=Math.max(g.f,r-a*M),(0,l.default)(e,{$merge:{mode:c.MODE_PANNING,startX:t,startY:n,matrix:f(g)}})}},{key:"stopPan",value:function(e){return(0,l.default)(e,{$merge:{mode:c.MODE_IDLE}})}},{key:"startZoomSelection",value:function(e,t,n){return(0,l.default)(e,{$merge:{mode:c.MODE_ZOOMING,startX:t,startY:n,endX:t,endY:n}})}},{key:"updateZoomSelection",value:function(e,t,n){if(e.mode!==c.MODE_ZOOMING)throw new Error("update selection not allowed in this mode "+e.mode);return(0,l.default)(e,{$merge:{mode:c.MODE_ZOOMING,endX:t,endY:n}})}},{key:"stopZoomSelection",value:function(t,n,r){var o=t.startX,a=t.startY,i=t.endX,s=t.endY,l=e.getSVGPoint(t,o,a),c=e.getSVGPoint(t,i,s),f=(0,u.calculateBox)(l,c);return e.fitSelectionToViewer(t,f.x,f.y,f.width,f.height,n,r)}},{key:"updateAutoPan",value:function(e,t,n,r,o){var a=20,i=c.DIRECTION_NONE;t<a?i=c.DIRECTION_LEFT:r-t<a&&(i=c.DIRECTION_RIGHT);var u=c.DIRECTION_NONE;return n<a?u=c.DIRECTION_UP:o-n<a&&(u=c.DIRECTION_DOWN),e.autoPanX===i&&e.autoPanY===u?e:(0,l.default)(e,{$merge:{autoPanX:i,autoPanY:u}})}},{key:"updateFocus",value:function(e,t){return e.focus===t?e:(0,l.default)(e,{$merge:{focus:t}})}},{key:"fitSelectionToViewer",value:function(e,t,n,r,o,a,u){var s=a/r,h=u/o,d=Math.min(s,h),p=new i.Matrix;return p=p.scaleU(d),p=p.translate(-t,-n),(0,l.default)(e,{$merge:{mode:c.MODE_IDLE,matrix:f(p)}})}},{key:"fitSVGToViewer",value:function(t,n,r,o,a){return e.fitSelectionToViewer(t,0,0,n,r,o,a)}},{key:"enableSpecialKey",value:function(e){return(0,l.default)(e,{$merge:{specialKeyEnabled:!0}})}},{key:"disableSpecialKey",value:function(e){return(0,l.default)(e,{$merge:{specialKeyEnabled:!1}})}},{key:"getSVGPoint",value:function(e,t,n){var r=e.matrix,o=r.a,a=r.b,u=r.c,s=r.d,l=r.e,c=r.f,f=i.Matrix.from(o,a,u,s,l,c),h=f.inverse();return h.applyToPoint(t,n)}},{key:"decomposeValue",value:function(e){var t=e.matrix,n=t.a,r=t.b,o=t.c,a=t.d,u=t.e,s=t.f,l=i.Matrix.from(n,r,o,a,u,s),c=l.decompose(!1);return{scaleFactor:c.scale.x,translationX:c.translate.x,translationY:c.translate.y}}},{key:"isPointInsideSVG",value:function(e,t,n,r){return 0<=e&&e<=n&&0<=t&&t<=r}}]),e}();t.default=h},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<t.length;o++){var i=t[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function i(){v&&d&&(v=!1,d.length?p=d.concat(p):y=-1,p.length&&u())}function u(){if(!v){var e=o(i);v=!0;for(var t=p.length;t;){for(d=p,p=[];++y<t;)d&&d[y].run();y=-1,t=p.length}d=null,v=!1,a(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var c,f,h=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var d,p=[],v=!1,y=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||v||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t){"use strict";function n(e,t){return e.x<=t.x&&e.y<=t.y?{x:e.x,y:e.y,width:t.x-e.x,height:t.y-e.y}:e.x>=t.x&&e.y<=t.y?{x:t.x,y:e.y,width:e.x-t.x,height:t.y-e.y}:e.x>=t.x&&e.y>=t.y?{x:t.x,y:t.y,width:e.x-t.x,height:e.y-t.y}:e.x<=t.x&&e.y>=t.y?{x:e.x,y:t.y,width:t.x-e.x,height:e.y-t.y}:void 0}function r(e,t,n,r,o){return r+(o-r)*(e-t)/(n-t)}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBox=n,t.mapRange=r},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=d[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(l(r.parts[a],t))}else{for(var i=[],a=0;a<r.parts.length;a++)i.push(l(r.parts[a],t));d[r.id]={id:r.id,refs:1,parts:i}}}}function o(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],a=o[0],i=o[1],u=o[2],s=o[3],l={css:i,media:u,sourceMap:s};n[a]?n[a].parts.push(l):t.push(n[a]={id:a,parts:[l]})}return t}function a(e,t){var n=y(),r=g[g.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),g.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=g.indexOf(e);t>=0&&g.splice(t,1)}function u(e){var t=document.createElement("style");return t.type="text/css",a(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",a(e,t),t}function l(e,t){var n,r,o;if(t.singleton){var a=m++;n=O||(O=u(t)),r=c.bind(null,n,a,!1),o=c.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=h.bind(null,n),o=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=u(t),r=f.bind(null,n),o=function(){i(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function c(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=M(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function f(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function h(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}var d={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},v=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),y=p(function(){return document.head||document.getElementsByTagName("head")[0]}),O=null,m=0,g=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=v()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=o(e);return r(n,t),function(e){for(var a=[],i=0;i<n.length;i++){var u=n[i],s=d[u.id];s.refs--,a.push(s)}if(e){var l=o(e);r(l,t)}for(var i=0;i<a.length;i++){var s=a[i];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete d[s.id]}}}};var M=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";var r,o,a=n(27),i=(n.n(a),n(1)),u=n.n(i),s=n(29),l=(n.n(s),n(21)),c=(n.n(l),n(10)),f=n(9),h=function(e,t){return function(){return e.apply(t,arguments)}},d=function(e,t){function n(){this.constructor=e}for(var r in t)p.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},p={}.hasOwnProperty;o=new f.a,t.a=r=function(e){function t(){this.onChange=h(this.onChange,this),t.__super__.constructor.apply(this,arguments),this.state={value:l.ViewerHelper.getDefaultValue(),now:Date.now(),period:100}}return d(t,e),t.prototype.onChange=function(e){return n.i(c.a)("viewer",e.value),this.setState({value:e.value})},t.prototype.componentDidMount=function(){return setInterval(function(e){return function(){return e.setState({now:Date.now()/10,period:100})}}(this),100)},t.prototype.render=function(){return u.a.createElement(l.Viewer,{detectPinch:!0,detectAutoPan:!0,tool:"pan",background:"",SVGBackground:"",width:window.innerWidth,height:window.innerHeight,value:this.state.value,onChange:this.onChange},u.a.createElement("svg",{width:"100",height:"100"},u.a.createElement("path",{stroke:"blue",fill:"transparent",d:"M-1000 0 H 1000"}),u.a.createElement("path",{stroke:"red",fill:"transparent",d:"M0 -1000 V 1000"}),o.surface(this.state.now,this.state.period,0,window.innerWidth)))},t}(u.a.Component)},function(e,t,n){var r=n(11);"string"==typeof r&&(r=[[e.i,r,""]]);n(6)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";var r,o,a=n(13),i=n.n(a);o=new i.a({frequency:5e-4,max:window.innerHeight,min:0,octaves:8}),t.a=r=function(){function e(e){var t,n,r,o,a,i,u;t=null!=e?e:{},this.seed=null!=(n=t.seed)?n:2147483647,this.oceanMinWidth=null!=(r=t.oceanMinWidth)?r:100,this.oceanMaxWidth=null!=(o=t.oceanMaxWidth)?o:1e4,this.continentMinWidth=null!=(a=t.continentMinWidth)?a:250,this.continentMaxWidth=null!=(i=t.continentMaxWidth)?i:1e5,this.oceanMaxDepth=null!=(u=t.oceanMaxDepth)?u:10}return e.prototype.surface=function(e,t,n,r){var a;return React.createElement("path",{fill:"skyblue",d:"M0 0L"+function(){var t,i,u,s;for(s=[],a=t=i=n,u=r;i<=u?t<=u:t>=u;a=i<=u?++t:--t)s.push(a+" "+o.in2D(a,e));return s}().join("L")+"L"+r+" 0"})},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){return localStorage.setItem("changelings-setting-"+e,function(){try{return JSON.stringify(t)}catch(e){}}())}},function(e,t,n){t=e.exports=n(3)(),t.push([e.i,"body,html{height:100%;background:#000;color:#90ee90;overflow:hidden}",""])},function(e,t,n){t=e.exports=n(3)(),t.push([e.i,".cv.changeling.viewer{position:absolute;top:0;left:0;width:100%;height:100%}",""])},function(e,t,n){function r(e){if(e||(e={}),this.amplitude=e.amplitude||1,this.frequency=e.frequency||1,this.octaves=parseInt(e.octaves||1),this.persistence=e.persistence||.5,this.random=e.random||Math.random,"number"==typeof e.min&&"number"==typeof e.max)if(e.min>=e.max)console.error("options.min must be less than options.max");else{var t=parseFloat(e.min),n=parseFloat(e.max),r=n-t;this.scale=function(e){return t+(e+1)/2*r}}else this.scale=function(e){return e};var o,a=new Uint8Array(256);for(o=0;o<256;o++)a[o]=o;var i,u;for(o=255;o>0;o--)i=Math.floor((o+1)*this.random()),u=a[o],a[o]=a[i],a[i]=u;for(this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512),o=0;o<512;o++)this.perm[o]=a[255&o],this.permMod12[o]=this.perm[o]%12}function o(e,t,n){return e[0]*t+e[1]*n}function a(e,t,n,r){return e[0]*t+e[1]*n+e[2]*r}function i(e,t,n,r,o){return e[0]*t+e[1]*n+e[2]*r+e[3]*o}var u=(3-Math.sqrt(3))/6,s=1/6,l=(5-Math.sqrt(5))/20,c=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,-1],[0,1,-1],[0,-1,-1]],f=[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]];e.exports=r,r.prototype.cylindrical2D=function(e,t,n){var r=t/e,o=e/(2*Math.PI),a=2*r*Math.PI,i=o*Math.sin(a),u=o*Math.cos(a);return this.in3D(i,u,n)},r.prototype.cylindrical3D=function(e,t,n,r){var o=t/e,a=e/(2*Math.PI),i=2*o*Math.PI,u=a*Math.sin(i),s=a*Math.cos(i);return this.in4D(u,s,n,r)},r.prototype.in2D=function(e,t){for(var n=this.amplitude,r=this.frequency,o=0,a=0,i=this.persistence,u=0;u<this.octaves;u++)a+=this.raw2D(e*r,t*r)*n,o+=n,n*=i,r*=2;var s=a/o;return this.scale(s)},r.prototype.in3D=function(e,t,n){for(var r=this.amplitude,o=this.frequency,a=0,i=0,u=this.persistence,s=0;s<this.octaves;s++)i+=this.raw3D(e*o,t*o,n*o)*r,a+=r,r*=u,o*=2;var l=i/a;return this.scale(l)},r.prototype.in4D=function(e,t,n,r){for(var o=this.amplitude,a=this.frequency,i=0,u=0,s=this.persistence,l=0;l<this.octaves;l++)u+=this.raw4D(e*a,t*a,n*a,r*a)*o,i+=o,o*=s,a*=2;var c=u/i;return this.scale(c)},r.prototype.raw2D=function(e,t){var n,r,a,i,s,l=this.perm,f=this.permMod12,h=.5*(e+t)*(Math.sqrt(3)-1),d=Math.floor(e+h),p=Math.floor(t+h),v=(d+p)*u,y=d-v,O=p-v,m=e-y,g=t-O;m>g?(i=1,s=0):(i=0,s=1);var M=m-i+u,_=g-s+u,x=m-1+2*u,w=g-1+2*u,b=255&d,E=255&p,T=f[b+l[E]],N=f[b+i+l[E+s]],P=f[b+1+l[E+1]],D=.5-m*m-g*g;D<0?n=0:(D*=D,n=D*D*o(c[T],m,g));var I=.5-M*M-_*_;I<0?r=0:(I*=I,r=I*I*o(c[N],M,_));var L=.5-x*x-w*w;return L<0?a=0:(L*=L,a=L*L*o(c[P],x,w)),70.14805770654148*(n+r+a)},r.prototype.raw3D=function(e,t,n){var r,o,i,u,l,f,h,d,p,v,y=this.perm,O=this.permMod12,m=(e+t+n)/3,g=Math.floor(e+m),M=Math.floor(t+m),_=Math.floor(n+m),x=(g+M+_)*s,w=g-x,b=M-x,E=_-x,T=e-w,N=t-b,P=n-E;T>=N?N>=P?(l=1,f=0,h=0,d=1,p=1,v=0):T>=P?(l=1,f=0,h=0,d=1,p=0,v=1):(l=0,f=0,h=1,d=1,p=0,v=1):N<P?(l=0,f=0,h=1,d=0,p=1,v=1):T<P?(l=0,f=1,h=0,d=0,p=1,v=1):(l=0,f=1,h=0,d=1,p=1,v=0);var D=T-l+s,I=N-f+s,L=P-h+s,k=T-d+2*s,C=N-p+2*s,V=P-v+2*s,S=T-1+3*s,A=N-1+3*s,Z=P-1+3*s,j=255&g,R=255&M,U=255&_,G=O[j+y[R+y[U]]],Y=O[j+l+y[R+f+y[U+h]]],q=O[j+d+y[R+p+y[U+v]]],F=O[j+1+y[R+1+y[U+1]]],X=.5-T*T-N*N-P*P;X<0?r=0:(X*=X,r=X*X*a(c[G],T,N,P));var z=.5-D*D-I*I-L*L;z<0?o=0:(z*=z,o=z*z*a(c[Y],D,I,L));var H=.5-k*k-C*C-V*V;H<0?i=0:(H*=H,i=H*H*a(c[q],k,C,V));var W=.5-S*S-A*A-Z*Z;return W<0?u=0:(W*=W,u=W*W*a(c[F],S,A,Z)),94.68493150681972*(r+o+i+u)},r.prototype.raw4D=function(e,t,n,r){var o,a,u,s,c,h=this.perm,d=(e+t+n+r)*(Math.sqrt(5)-1)/4,p=Math.floor(e+d),v=Math.floor(t+d),y=Math.floor(n+d),O=Math.floor(r+d),m=(p+v+y+O)*l,g=p-m,M=v-m,_=y-m,x=O-m,w=e-g,b=t-M,E=n-_,T=r-x,N=0,P=0,D=0,I=0;w>b?N++:P++,w>E?N++:D++,w>T?N++:I++,b>E?P++:D++,b>T?P++:I++,E>T?D++:I++;var L,k,C,V,S,A,Z,j,R,U,G,Y;L=N>=3?1:0,k=P>=3?1:0,C=D>=3?1:0,V=I>=3?1:0,S=N>=2?1:0,A=P>=2?1:0,Z=D>=2?1:0,j=I>=2?1:0,R=N>=1?1:0,U=P>=1?1:0,G=D>=1?1:0,Y=I>=1?1:0;var q=w-L+l,F=b-k+l,X=E-C+l,z=T-V+l,H=w-S+2*l,W=b-A+2*l,K=E-Z+2*l,B=T-j+2*l,$=w-R+3*l,J=b-U+3*l,Q=E-G+3*l,ee=T-Y+3*l,te=w-1+4*l,ne=b-1+4*l,re=E-1+4*l,oe=T-1+4*l,ae=255&p,ie=255&v,ue=255&y,se=255&O,le=h[ae+h[ie+h[ue+h[se]]]]%32,ce=h[ae+L+h[ie+k+h[ue+C+h[se+V]]]]%32,fe=h[ae+S+h[ie+A+h[ue+Z+h[se+j]]]]%32,he=h[ae+R+h[ie+U+h[ue+G+h[se+Y]]]]%32,de=h[ae+1+h[ie+1+h[ue+1+h[se+1]]]]%32,pe=.5-w*w-b*b-E*E-T*T;pe<0?o=0:(pe*=pe,o=pe*pe*i(f[le],w,b,E,T));var ve=.5-q*q-F*F-X*X-z*z;ve<0?a=0:(ve*=ve,a=ve*ve*i(f[ce],q,F,X,z));var ye=.5-H*H-W*W-K*K-B*B;ye<0?u=0:(ye*=ye,u=ye*ye*i(f[fe],H,W,K,B));var Oe=.5-$*$-J*J-Q*Q-ee*ee;Oe<0?s=0:(Oe*=Oe,s=Oe*Oe*i(f[he],$,J,Q,ee));var me=.5-te*te-ne*ne-re*re-oe*oe;return me<0?c=0:(me*=me,c=me*me*i(f[de],te,ne,re,oe)),72.37857097679466*(o+a+u+s+c)},r.prototype.spherical2D=function(e,t,n){var r=t/e,o=n/e,a=2*r*Math.PI,i=o*Math.PI,u=Math.sin(i+Math.PI),s=2*Math.PI,l=s*Math.sin(a)*u,c=s*Math.cos(a)*u,f=s*Math.cos(i);return this.in3D(l,c,f)},r.prototype.spherical3D=function(e,t,n,r){var o=t/e,a=n/e,i=2*o*Math.PI,u=a*Math.PI,s=Math.sin(u+Math.PI),l=2*Math.PI,c=l*Math.sin(i)*s,f=l*Math.cos(i)*s,h=l*Math.cos(u);return this.in4D(c,f,h,r)}},function(e,t,n){"use strict";(function(t){function n(e,n,r,o,a,i,u,s){if("production"!==t.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===n)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,o,a,i,u,s],f=0;l=new Error(n.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}e.exports=n}).call(t,n(4))},function(e,t){"use strict";var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=n},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}var o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,i,u=n(e),s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var l in r)o.call(r,l)&&(u[l]=r[l]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(r);for(var c=0;c<i.length;c++)a.call(r,i[c])&&(u[i[c]]=r[i[c]])}}return u}},function(e,t,n){e.exports=n(26)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n(e)?o()?"-moz-"+e:a()?"-webkit-"+e:void 0:e};var n=function(e){return["zoom-in","zoom-out","grab","grabbing"].indexOf(e)>-1},r=function(){return navigator.userAgent.toLowerCase()},o=function(){return r().indexOf("firefox")>-1},a=function(){return r().indexOf("webkit")>-1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.direction,n=e.SVGWidth,r=e.SVGHeight,o=void 0;switch(t){case u.DIRECTION_LEFT:o=" ";break;case u.DIRECTION_RIGHT:o="translate("+n+", "+r+") rotate(180)";break;case u.DIRECTION_UP:o="translate("+n+", 0) rotate(90)";break;case u.DIRECTION_DOWN:o="translate(0, "+r+") rotate(270)";break;case u.DIRECTION_NONE:default:return null}return i.default.createElement("g",null,i.default.createElement("defs",null,i.default.createElement("linearGradient",{id:"react-svg-pan-zoom-gradient1",x1:"0%",y1:"0%",x2:"100%",y2:"0%",spreadMethod:"pad"},i.default.createElement("stop",{offset:"0%",stopColor:"#fff",stopOpacity:"0.8"}),i.default.createElement("stop",{offset:"100%",stopColor:"#000",stopOpacity:"0.5"})),i.default.createElement("mask",{id:"react-svg-pan-zoom-mask1",x:"0",y:"0",width:"20",height:Math.max(n,r)},i.default.createElement("rect",{x:"0",y:"0",width:"20",height:Math.max(n,r),style:{stroke:"none",fill:"url(#react-svg-pan-zoom-gradient1)"}}))),i.default.createElement("rect",{x:"0",y:"0",width:"20",height:Math.max(n,r),style:{stroke:"none",fill:"#000",mask:"url(#react-svg-pan-zoom-mask1)"},transform:o}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(1),i=r(a),u=n(0)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.IconZoomOut=t.IconZoomIn=t.IconZoom=t.IconPan=t.IconCursor=void 0;var o=n(1),a=r(o);t.IconCursor=function(e){var t=e.color;return a.default.createElement("path",{stroke:t,d:"M10.07,14.27C10.57,14.03 11.16,14.25 11.4,14.75L13.7,19.74L15.5,18.89L13.19,13.91C12.95,13.41 13.17,12.81 13.67,12.58L13.95,12.5L16.25,12.05L8,5.12V15.9L9.82,14.43L10.07,14.27M13.64,21.97C13.14,22.21 12.54,22 12.31,21.5L10.13,16.76L7.62,18.78C7.45,18.92 7.24,19 7,19A1,1 0 0,1 6,18V3A1,1 0 0,1 7,2C7.24,2 7.47,2.09 7.64,2.23L7.65,2.22L19.14,11.86C19.57,12.22 19.62,12.85 19.27,13.27C19.12,13.45 18.91,13.57 18.7,13.61L15.54,14.23L17.74,18.96C18,19.46 17.76,20.05 17.26,20.28L13.64,21.97Z"})},t.IconPan=function(e){var t=e.color;return a.default.createElement("path",{stroke:t,d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"})},t.IconZoom=function(e){var t=e.color;return a.default.createElement("path",{stroke:t,d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})},t.IconZoomIn=function(e){var t=e.color;return a.default.createElement("g",null,a.default.createElement("path",{stroke:t,d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),a.default.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z",stroke:t}))},t.IconZoomOut=function(e){var t=e.color;return a.default.createElement("path",{stroke:t,d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TOOL_ZOOM_OUT=t.TOOL_ZOOM_IN=t.TOOL_ZOOM=t.TOOL_PAN=t.TOOL_NONE=t.Toolbar=t.ViewerHelper=t.Viewer=void 0;var o=n(24),a=r(o),i=n(2),u=r(i),s=n(22),l=r(s),c=n(0);console.info("react-svg-pan-zoom started"),t.Viewer=a.default,t.ViewerHelper=u.default,t.Toolbar=l.default,t.TOOL_NONE=c.TOOL_NONE,t.TOOL_PAN=c.TOOL_PAN,t.TOOL_ZOOM=c.TOOL_ZOOM,t.TOOL_ZOOM_IN=c.TOOL_ZOOM_IN,t.TOOL_ZOOM_OUT=c.TOOL_ZOOM_OUT},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.tool,n=e.onChangeTool,r=e.style,o=function(e,t){e.stopPropagation(),e.preventDefault(),n(t)};return u.default.createElement("div",{style:a({},c,r)},u.default.createElement("a",{href:!0,style:f,title:"Selection",onClick:function(e){return o(e,s.TOOL_NONE)}},u.default.createElement("svg",{width:24,height:24},u.default.createElement(l.IconCursor,{color:t===s.TOOL_NONE?d:h}))),u.default.createElement("a",{style:f,href:"javascript:;",title:"Pan",onClick:function(e){return n(s.TOOL_PAN)}},u.default.createElement("svg",{width:24,height:24},u.default.createElement(l.IconPan,{color:t===s.TOOL_PAN?d:h}))),u.default.createElement("a",{style:f,href:"javascript:;",title:"Zoom",onClick:function(e){return n(s.TOOL_ZOOM)}},u.default.createElement("svg",{width:24,height:24},u.default.createElement(l.IconZoom,{color:t===s.TOOL_ZOOM?d:h}))),u.default.createElement("a",{style:f,href:"javascript:;",title:"Zoom in",onClick:function(e){return n(s.TOOL_ZOOM_IN)}},u.default.createElement("svg",{width:24,height:24},u.default.createElement(l.IconZoomIn,{color:t===s.TOOL_ZOOM_IN?d:h}))),u.default.createElement("a",{style:f,href:"javascript:;",title:"Zoom out",onClick:function(e){return n(s.TOOL_ZOOM_OUT)}},u.default.createElement("svg",{width:24,height:24},u.default.createElement(l.IconZoomOut,{color:t===s.TOOL_ZOOM_OUT?d:h}))))}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var i=n(1),u=r(i),s=n(0),l=n(20),c={backgroundColor:"#28292D",padding:"5px 2px 2px",width:"24px",borderRadius:"2px"},f={display:"block",width:"24px",height:"24px",marginBottom:"5px"},h="#FFF",d="#1CA6FC";o.propTypes={tool:i.PropTypes.oneOf([s.TOOL_NONE,s.TOOL_PAN,s.TOOL_ZOOM,s.TOOL_ZOOM_IN,s.TOOL_ZOOM_OUT]).isRequired,onChangeTool:i.PropTypes.func.isRequired,style:i.PropTypes.object},o.defaultProps={style:{}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),u=r(i),s=function(){function e(t,n,r){o(this,e),this.originalEvent=t,this.value=n,this.SVGViewer=r}return a(e,[{key:"point",get:function(){if(!this._cachePoint){var e=this.originalEvent,t=this.value,n=this.SVGViewer,r=n.getBoundingClientRect(),o=e.clientX-Math.round(r.left),a=e.clientY-Math.round(r.top);this._cachePoint=u.default.getSVGPoint(t,o,a)}return this._cachePoint}},{key:"x",get:function(){return this.point.x}},{key:"y",get:function(){return this.point.y}},{key:"scaleFactor",get:function(){if(!this._cacheDecomposedValue){var e=this.value;this._cacheDecomposedValue=u.default.decomposeValue(e)}return this._cacheDecomposedValue.scaleFactor}},{key:"translationX",get:function(){if(!this._cacheDecomposedValue){var e=this.value;this._cacheDecomposedValue=u.default.decomposeValue(e)}return this._cacheDecomposedValue.translationX}},{key:"translationY",get:function(){if(!this._cacheDecomposedValue){var e=this.value;this._cacheDecomposedValue=u.default.decomposeValue(e)}return this._cacheDecomposedValue.translationY}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=r(s),c=n(2),f=r(c),h=n(23),d=r(h),p=n(18),v=r(p),y=n(5),O=n(19),m=r(O),g=n(0),M=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSpecialKeyChange=n.handleSpecialKeyChange.bind(n),n.handleAutoPan=n.handleAutoPan.bind(n),n}return i(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e){return e!==this.props}},{key:"handleStartPan",value:function(e){var t=e.nativeEvent.offsetX,n=e.nativeEvent.offsetY,r=this.props,o=r.value,a=r.tool,i=r.onChange;if(o=o||f.default.getDefaultValue(),a===g.TOOL_PAN&&o.mode===g.MODE_IDLE){var u=f.default.startPan(o,t,n);e.preventDefault(),i(new d.default(e,u,this.refs.svg))}}},{key:"handleUpdatePan",value:function(e){var t=e.nativeEvent.offsetX,n=e.nativeEvent.offsetY,r=this.props,o=r.value,a=r.tool,i=r.onChange,u=r.width,s=r.height,l=r.children;o=o||f.default.getDefaultValue();var c=l.props.width,h=l.props.height;if(a===g.TOOL_PAN&&o.mode===g.MODE_PANNING){var p=o.mode===g.MODE_PANNING&&0===e.buttons,v=p?f.default.stopPan(o):f.default.updatePan(o,t,n,20,c,h,u,s);e.preventDefault(),i(new d.default(e,v,this.refs.svg))}}},{key:"handleStopPan",value:function(e){var t=e.nativeEvent.offsetX,n=e.nativeEvent.offsetY,r=this.props,o=r.value,a=r.tool,i=r.onChange;if(o=o||f.default.getDefaultValue(),a===g.TOOL_PAN&&o.mode===g.MODE_PANNING){var u=f.default.stopPan(o,t,n);e.preventDefault(),i(new d.default(e,u,this.refs.svg))}}},{key:"handleStartZoom",value:function(e){var t=e.nativeEvent.offsetX,n=e.nativeEvent.offsetY,r=this.props,o=r.value,a=r.tool,i=r.onChange,u=r.children;o=o||f.default.getDefaultValue();u.props.width,u.props.height;if([g.TOOL_ZOOM,g.TOOL_ZOOM_IN].indexOf(a)!==-1&&o.mode===g.MODE_IDLE){var s=f.default.startZoomSelection(o,t,n);e.preventDefault(),i(new d.default(e,s,this.refs.svg))}}},{key:"handleUpdateZoom",value:function(e){var t=e.nativeEvent.offsetX,n=e.nativeEvent.offsetY,r=this.props,o=r.value,a=r.tool,i=r.onChange,u=r.width,s=r.height;if(o=o||f.default.getDefaultValue(),[g.TOOL_ZOOM,g.TOOL_ZOOM_IN].indexOf(a)!==-1&&o.mode===g.MODE_ZOOMING){var l=0===e.buttons,c=l?f.default.stopZoomSelection(o,u,s):f.default.updateZoomSelection(o,t,n);e.preventDefault(),i(new d.default(e,c,this.refs.svg))}}},{key:"handleStopZoom",value:function(e){var t=Math.abs,n=e.nativeEvent.offsetX,r=e.nativeEvent.offsetY,o=this.props,a=o.value,i=o.tool,u=o.onChange,s=o.width,l=o.height;a=a||f.default.getDefaultValue();var c=a,h=c.startX,p=c.endX,v=c.startY,y=c.endY,O=c.specialKeyEnabled;if([g.TOOL_ZOOM,g.TOOL_ZOOM_IN,g.TOOL_ZOOM_OUT].indexOf(i)!==-1&&(a.mode===g.MODE_ZOOMING||i===g.TOOL_ZOOM_OUT)){var m=t(h-p)>7&&t(v-y)>7&&i!==g.TOOL_ZOOM_OUT,M=void 0;if(m)M=f.default.stopZoomSelection(a,s,l);else{var _=i===g.TOOL_ZOOM_IN||i===g.TOOL_ZOOM&&!O,x=_?1.1:.9;M=f.default.zoom(a,x,n,r)}e.preventDefault(),u(new d.default(e,M,this.refs.svg))}}},{key:"handleEvent",value:function(e){var t=this.props,n=t.value,r=t.tool,o=t.onClick,a=t.onMouseUp,i=t.onMouseMove,u=t.onMouseDown;n=n||f.default.getDefaultValue();var s={click:o,mousemove:i,mouseup:a,mousedown:u};if(r===g.TOOL_NONE){var l=s[e.type];
l&&l(new d.default(e,n,this.refs.svg))}}},{key:"handleSpecialKeyChange",value:function(e){var t=this.props,n=t.value,r=t.specialKeys,o=t.onChange;n=n||f.default.getDefaultValue();var a=e.which,i="keydown"===e.type;if(r.indexOf(a)!==-1){var u=i?f.default.enableSpecialKey(n):f.default.disableSpecialKey(n);o(new d.default(e,u,this.refs.svg))}}},{key:"handlePinch",value:function(e){var t=this.props,n=t.value,r=t.onChange,o=t.detectPinch;if(n=n||f.default.getDefaultValue(),o){var a=this.refs.svg.getBoundingClientRect(),i=e.clientX-Math.round(a.left),u=e.clientY-Math.round(a.top),s=Math.max(-1,Math.min(1,e.deltaY)),l=(0,y.mapRange)(s,-1,1,1.06,.96),c=f.default.zoom(n,l,i,u);e.preventDefault(),r(new d.default(e,c,this.refs.svg))}}},{key:"handleAutoPanDetection",value:function(e){var t=this.props,n=t.value,r=t.onChange,o=t.width,a=t.height,i=t.tool;if(n=n||f.default.getDefaultValue(),i===g.TOOL_NONE){var u=this.refs.svg.getBoundingClientRect(),s=e.clientX-Math.round(u.left),l=e.clientY-Math.round(u.top),c=f.default.updateAutoPan(n,s,l,o,a);n!==c&&r(new d.default(e,c,this.refs.svg))}}},{key:"handleAutoPan",value:function(){var e=this.props,t=e.value,n=e.onChange,r=e.tool,o=e.detectAutoPan;t=t||f.default.getDefaultValue();var a=t,i=a.autoPanX,u=a.autoPanY,s=0,l=0,c=30;if(r===g.TOOL_NONE&&t.focus&&o&&(i!==g.DIRECTION_NONE||u!==g.DIRECTION_NONE)){i===g.DIRECTION_LEFT?s=c:i===g.DIRECTION_RIGHT&&(s=-c),u===g.DIRECTION_UP?l=c:u===g.DIRECTION_DOWN&&(l=-c);var h=f.default.pan(t,s,l);n(new d.default(null,h,this.refs.svg))}}},{key:"handleUpdateFocus",value:function(e,t){var n=this.props,r=n.value,o=n.onChange;r=r||f.default.getDefaultValue();var a=f.default.updateFocus(r,t);o(new d.default(e,a,this.refs.svg))}},{key:"componentWillMount",value:function(e){window.addEventListener("keydown",this.handleSpecialKeyChange,!1),window.addEventListener("keyup",this.handleSpecialKeyChange,!1)}},{key:"componentDidMount",value:function(){this.autoPanTimer=setInterval(this.handleAutoPan,200)}},{key:"componentWillUnmount",value:function(e){window.removeEventListener("keydown",this.handleSpecialKeyChange,!1),window.removeEventListener("keyup",this.handleSpecialKeyChange,!1),clearTimeout(this.autoPanTimer)}},{key:"render",value:function(){var e=this,t=this.props.children,n=this.props.value||f.default.getDefaultValue(),r=n.matrix,o=n.mode,a=n.specialKeyEnabled,i=n.autoPanX,u=n.autoPanY,s=n.focus,c=this.props,h=c.width,d=c.height,p=c.detectAutoPan,O=c.tool,M="matrix("+r.a+", "+r.b+", "+r.c+", "+r.d+", "+r.e+", "+r.f+")",_={},x=O===g.TOOL_NONE?{}:{pointerEvents:"none"};if(O===g.TOOL_PAN&&(_.cursor=(0,v.default)(o===g.MODE_PANNING?"grabbing":"grab")),[g.TOOL_ZOOM,g.TOOL_ZOOM_IN,g.TOOL_ZOOM_OUT].indexOf(O)>=0){var w=O===g.TOOL_ZOOM_IN||O===g.TOOL_ZOOM&&!a;_.cursor=(0,v.default)(w?"zoom-in":"zoom-out")}var b=void 0;if(o===g.MODE_ZOOMING){var E=n.startX,T=n.startY,N=n.endX,P=n.endY,D=(0,y.calculateBox)({x:E,y:T},{x:N,y:P});b=l.default.createElement("rect",{stroke:"#969FFF",strokeOpacity:.7,fill:"#F3F4FF",fillOpacity:.7,x:D.x,y:D.y,width:D.width,height:D.height})}return l.default.createElement("svg",{ref:"svg",width:h,height:d,style:Object.assign(_,this.props.style),onMouseDown:function(t){e.handleStartPan(t),e.handleStartZoom(t)},onMouseMove:function(t){e.handleUpdatePan(t),e.handleUpdateZoom(t),e.handleAutoPanDetection(t)},onMouseUp:function(t){e.handleStopPan(t),e.handleStopZoom(t)},onWheel:function(t){e.handlePinch(t)},onMouseEnter:function(t){e.handleUpdateFocus(t,!0)},onMouseLeave:function(t){e.handleUpdateFocus(t,!1)}},l.default.createElement("rect",{fill:this.props.background,x:0,y:0,width:this.props.width,height:this.props.height,style:{pointerEvents:"none"}}),l.default.createElement("g",{ref:"originalSVG",transform:M,style:x,onMouseDown:function(t){return e.handleEvent(t)},onMouseMove:function(t){return e.handleEvent(t)},onMouseUp:function(t){return e.handleEvent(t)},onClick:function(t){return e.handleEvent(t)}},l.default.createElement("rect",{fill:this.props.SVGBackground,x:0,y:0,width:t.props.width,height:t.props.height}),l.default.createElement("g",{ref:"content"},t.props.children)),s&&O===g.TOOL_NONE&&p?l.default.createElement("g",{style:{pointerEvents:"none"}},l.default.createElement(m.default,{direction:i,SVGWidth:h,SVGHeight:d}),l.default.createElement(m.default,{direction:u,SVGWidth:h,SVGHeight:d})):null,b)}}]),t}(l.default.Component);t.default=M,M.propTypes={width:l.default.PropTypes.number.isRequired,height:l.default.PropTypes.number.isRequired,background:l.default.PropTypes.string,SVGBackground:l.default.PropTypes.string,value:l.default.PropTypes.object,style:l.default.PropTypes.object,specialKeys:l.default.PropTypes.arrayOf(l.default.PropTypes.number),detectPinch:l.default.PropTypes.bool,detectAutoPan:l.default.PropTypes.bool,onChange:l.default.PropTypes.func.isRequired,onClick:l.default.PropTypes.func,onMouseUp:l.default.PropTypes.func,onMouseMove:l.default.PropTypes.func,onMouseDown:l.default.PropTypes.func,tool:l.default.PropTypes.oneOf([g.TOOL_NONE,g.TOOL_PAN,g.TOOL_ZOOM,g.TOOL_ZOOM_IN,g.TOOL_ZOOM_OUT]),children:function(e,t,n){var r=e[t],o=["svg"];return 1!==l.default.Children.count(r)||o.indexOf(r.type)===-1?new Error("`"+n+"` should have a single child of the following types:  `"+o.join("`, `")+"`."):r.props.hasOwnProperty("width")&&r.props.hasOwnProperty("height")?void 0:new Error("SVG should have props `width` and `height`")}},M.defaultProps={value:null,style:{},background:"#616264",SVGBackground:"#fff",tool:g.TOOL_NONE,detectPinch:!0,detectAutoPan:!0,specialKeys:[91,17]}},function(e,t){"use strict";function n(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}e.exports=n},function(e,t,n){"use strict";(function(t){function r(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?u(new e.constructor,e):e}function o(e,n,r){Array.isArray(e)?void 0:"production"!==t.env.NODE_ENV?l(!1,"update(): expected target of %s to be an array; got %s.",r,e):i("1",r,e);var o=n[r];Array.isArray(o)?void 0:"production"!==t.env.NODE_ENV?l(!1,"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",r,o):i("2",r,o)}function a(e,n){if("object"!=typeof n?"production"!==t.env.NODE_ENV?l(!1,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",O.join(", "),p):i("3",O.join(", "),p):void 0,c.call(n,p))return 1!==Object.keys(n).length?"production"!==t.env.NODE_ENV?l(!1,"Cannot have more than one key in an object with %s",p):i("4",p):void 0,n[p];var s=r(e);if(c.call(n,v)){var g=n[v];g&&"object"==typeof g?void 0:"production"!==t.env.NODE_ENV?l(!1,"update(): %s expects a spec of type 'object'; got %s",v,g):i("5",v,g),s&&"object"==typeof s?void 0:"production"!==t.env.NODE_ENV?l(!1,"update(): %s expects a target of type 'object'; got %s",v,s):i("6",v,s),u(s,n[v])}c.call(n,f)&&(o(e,n,f),n[f].forEach(function(e){s.push(e)})),c.call(n,h)&&(o(e,n,h),n[h].forEach(function(e){s.unshift(e)})),c.call(n,d)&&(Array.isArray(e)?void 0:"production"!==t.env.NODE_ENV?l(!1,"Expected %s target to be an array; got %s",d,e):i("7",d,e),Array.isArray(n[d])?void 0:"production"!==t.env.NODE_ENV?l(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,n[d]):i("8",d,n[d]),n[d].forEach(function(e){Array.isArray(e)?void 0:"production"!==t.env.NODE_ENV?l(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,n[d]):i("8",d,n[d]),s.splice.apply(s,e)})),c.call(n,y)&&("function"!=typeof n[y]?"production"!==t.env.NODE_ENV?l(!1,"update(): expected spec of %s to be a function; got %s.",y,n[y]):i("9",y,n[y]):void 0,s=n[y](s));for(var M in n)m.hasOwnProperty(M)&&m[M]||(s[M]=a(e[M],n[M]));return s}var i=n(25),u=n(16),s=n(15),l=n(14),c={}.hasOwnProperty,f=s({$push:null}),h=s({$unshift:null}),d=s({$splice:null}),p=s({$set:null}),v=s({$merge:null}),y=s({$apply:null}),O=[f,h,d,p,v,y],m={};O.forEach(function(e){m[e]=!0}),e.exports=a}).call(t,n(4))},function(e,t,n){var r=n(12);"string"==typeof r&&(r=[[e.i,r,""]]);n(6)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){/*!
	2D Transformation Matrix v2.6.5
	(c) Epistemex.com 2014-2016
	License: MIT, header required.
*/
/**
 * 2D transformation matrix object initialized with identity matrix.
 *
 * The matrix can synchronize a canvas 2D context by supplying the context
 * as an argument, or later apply current absolute transform to an
 * existing context.
 *
 * To synchronize a DOM element you can use [`toCSS()`]{@link Matrix#toCSS} or [`toCSS3D()`]{@link Matrix#toCSS3D}.
 *
 * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix
 * @prop {number} a - scale x
 * @prop {number} b - shear y
 * @prop {number} c - shear x
 * @prop {number} d - scale y
 * @prop {number} e - translate x
 * @prop {number} f - translate y
 * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context
 * @constructor
 * @license MIT license (header required)
 * @copyright Epistemex.com 2014-2016
 */
function r(e){var t=this;t._t=t.transform,t.a=t.d=1,t.b=t.c=t.e=t.f=0,e&&(t.context=e).setTransform(1,0,0,1,0,0)}r.fromTriangles=function(e,t,n){var o,a,i,u,s,l,c=new r,f=new r(n);return Array.isArray(e)?"number"==typeof e[0]?(i=e[4],u=e[5],s=t[4],l=t[5],o=[e[0]-i,e[1]-u,e[2]-i,e[3]-u,i,u],a=[t[0]-s,t[1]-l,t[2]-s,t[3]-l,s,l]):(i=e[2].x,u=e[2].y,s=t[2].x,l=t[2].y,o=[e[0].x-i,e[0].y-u,e[1].x-i,e[1].y-u,i,u],a=[t[0].x-s,t[0].y-l,t[1].x-s,e[1].y-l,s,l]):(o=[e.px-e.rx,e.py-e.ry,e.qx-e.rx,e.qy-e.ry,e.rx,e.ry],a=[t.px-t.rx,t.py-t.ry,t.qx-t.rx,t.qy-t.ry,t.rx,t.ry]),c.setTransform.apply(c,o),f.setTransform.apply(f,a),f.multiply(c.inverse())},r.fromSVGMatrix=function(e,t){return console.warn("Obsolete. Use Matrix.from()"),new r(t).multiply(e)},r.fromDOMMatrix=function(e,t){if(console.warn("Obsolete. Use Matrix.from()"),!e.is2D)throw"Cannot use 3D matrix.";return new r(t).multiply(e)},r.fromSVGTransformList=function(e,t){for(var n=new r(t),o=0;o<e.length;)n.multiply(e[o++].matrix);return n},r.from=function(e,t,n,o,a,i,u){var s=new r(u);if("number"==typeof e)s.setTransform(e,t,n,o,a,i);else{if("boolean"==typeof e.is2D&&!e.is2D)throw"Cannot use 3D DOMMatrix.";t&&(s.context=t),s.multiply(e)}return s},r.prototype={concat:function(e){return this.clone().multiply(e)},flipX:function(){return this._t(-1,0,0,1,0,0)},flipY:function(){return this._t(1,0,0,-1,0,0)},reflectVector:function(e,t){var n=this.applyToPoint(0,1),r=2*(n.x*e+n.y*t);return e-=r*n.x,t-=r*n.y,{x:e,y:t}},reset:function(){return this.setTransform(1,0,0,1,0,0)},rotate:function(e){var t=Math.cos(e),n=Math.sin(e);return this._t(t,n,-n,t,0,0)},rotateFromVector:function(e,t){return this.rotate(Math.atan2(t,e))},rotateDeg:function(e){return this.rotate(e*Math.PI/180)},scaleU:function(e){return this._t(e,0,0,e,0,0)},scale:function(e,t){return this._t(e,0,0,t,0,0)},scaleX:function(e){return this._t(e,0,0,1,0,0)},scaleY:function(e){return this._t(1,0,0,e,0,0)},shear:function(e,t){return this._t(1,t,e,1,0,0)},shearX:function(e){return this._t(1,0,e,1,0,0)},shearY:function(e){return this._t(1,e,0,1,0,0)},skew:function(e,t){return this.shear(Math.tan(e),Math.tan(t))},skewDeg:function(e,t){return this.shear(Math.tan(e/180*Math.PI),Math.tan(t/180*Math.PI))},skewX:function(e){return this.shearX(Math.tan(e))},skewY:function(e){return this.shearY(Math.tan(e))},setTransform:function(e,t,n,r,o,a){var i=this;return i.a=e,i.b=t,i.c=n,i.d=r,i.e=o,i.f=a,i._x()},translate:function(e,t){return this._t(1,0,0,1,e,t)},translateX:function(e){return this._t(1,0,0,1,e,0)},translateY:function(e){return this._t(1,0,0,1,0,e)},transform:function(e,t,n,r,o,a){var i=this,u=i.a,s=i.b,l=i.c,c=i.d,f=i.e,h=i.f;return i.a=u*e+l*t,i.b=s*e+c*t,i.c=u*n+l*r,i.d=s*n+c*r,i.e=u*o+l*a+f,i.f=s*o+c*a+h,i._x()},multiply:function(e){return this._t(e.a,e.b,e.c,e.d,e.e,e.f)},divide:function(e){if(!e.isInvertible())throw"Matrix not invertible";return this.multiply(e.inverse())},divideScalar:function(e){var t=this;return t.a/=e,t.b/=e,t.c/=e,t.d/=e,t.e/=e,t.f/=e,t._x()},inverse:function(e){var t=this,n=new r(e?t.context:null),o=t.determinant();if(t._q(o,0))throw"Matrix not invertible.";return n.a=t.d/o,n.b=-t.b/o,n.c=-t.c/o,n.d=t.a/o,n.e=(t.c*t.f-t.d*t.e)/o,n.f=-(t.a*t.f-t.b*t.e)/o,n},interpolate:function(e,t,n){var o=this,a=n?new r(n):new r;return a.a=o.a+(e.a-o.a)*t,a.b=o.b+(e.b-o.b)*t,a.c=o.c+(e.c-o.c)*t,a.d=o.d+(e.d-o.d)*t,a.e=o.e+(e.e-o.e)*t,a.f=o.f+(e.f-o.f)*t,a._x()},interpolateAnim:function(e,t,n){var o=new r(n?n:null),a=this.decompose(),i=e.decompose(),u=a.translate,s=i.translate,l=a.scale,c=a.rotation+(i.rotation-a.rotation)*t,f=u.x+(s.x-u.x)*t,h=u.y+(s.y-u.y)*t,d=l.x+(i.scale.x-l.x)*t,p=l.y+(i.scale.y-l.y)*t;return o.translate(f,h),o.rotate(c),o.scale(d,p),o._x()},decompose:function(e){var t=this,n=t.a,r=t.b,o=t.c,a=t.d,i=Math.acos,u=Math.atan,s=Math.sqrt,l=Math.PI,c={x:t.e,y:t.f},f=0,h={x:1,y:1},d={x:0,y:0},p=n*a-r*o;if(e)n?(d={x:u(o/n),y:u(r/n)},h={x:n,y:p/n}):r?(f=.5*l,h={x:r,y:p/r},d.x=u(a/r)):(h={x:o,y:a},d.x=.25*l);else if(n||r){var v=s(n*n+r*r);f=r>0?i(n/v):-i(n/v),h={x:v,y:p/v},d.x=u((n*o+r*a)/(v*v))}else if(o||a){var y=s(o*o+a*a);f=.5*l-(a>0?i(-o/y):-i(o/y)),h={x:p/y,y:y},d.y=u((n*o+r*a)/(y*y))}else h={x:0,y:0};return{translate:c,rotation:f,scale:h,skew:d}},determinant:function(){return this.a*this.d-this.b*this.c},applyToPoint:function(e,t){var n=this;return{x:e*n.a+t*n.c+n.e,y:e*n.b+t*n.d+n.f}},applyToArray:function(e){var t,n,r=0,o=[];if("number"==typeof e[0])for(n=e.length;r<n;)t=this.applyToPoint(e[r++],e[r++]),o.push(t.x,t.y);else for(;t=e[r++];)o.push(this.applyToPoint(t.x,t.y));return o},applyToTypedArray:function(e,t){for(var n,r=0,o=e.length,a=t?new Float64Array(o):new Float32Array(o);r<o;)n=this.applyToPoint(e[r],e[r+1]),a[r++]=n.x,a[r++]=n.y;return a},applyToContext:function(e){var t=this;return e.setTransform(t.a,t.b,t.c,t.d,t.e,t.f),t},isIdentity:function(){var e=this;return e._q(e.a,1)&&e._q(e.b,0)&&e._q(e.c,0)&&e._q(e.d,1)&&e._q(e.e,0)&&e._q(e.f,0)},isInvertible:function(){return!this._q(this.determinant(),0)},isValid:function(){return!(this.a*this.d)},isEqual:function(e){var t=this,n=t._q;return n(t.a,e.a)&&n(t.b,e.b)&&n(t.c,e.c)&&n(t.d,e.d)&&n(t.e,e.e)&&n(t.f,e.f)},clone:function(e){return new r(e?null:this.context).multiply(this)},toArray:function(){var e=this;return[e.a,e.b,e.c,e.d,e.e,e.f]},toTypedArray:function(e){var t=e?new Float64Array(6):new Float32Array(6),n=this;return t[0]=n.a,t[1]=n.b,t[2]=n.c,t[3]=n.d,t[4]=n.e,t[5]=n.f,t},toCSS:function(){return"matrix("+this.toArray()+")"},toCSS3D:function(){var e=this;return"matrix3d("+e.a+","+e.b+",0,0,"+e.c+","+e.d+",0,0,0,0,1,0,"+e.e+","+e.f+",0,1)"},toJSON:function(){var e=this;return'{"a":'+e.a+',"b":'+e.b+',"c":'+e.c+',"d":'+e.d+',"e":'+e.e+',"f":'+e.f+"}"},toString:function(e){var t=this;return e=e||4,"a="+t.a.toFixed(e)+" b="+t.b.toFixed(e)+" c="+t.c.toFixed(e)+" d="+t.d.toFixed(e)+" e="+t.e.toFixed(e)+" f="+t.f.toFixed(e)},toCSV:function(){return this.toArray().join()+"\r\n"},toDOMMatrix:function(){var e=null;return"DOMMatrix"in window&&(e=new DOMMatrix,e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.e=this.e,e.f=this.f),e},toSVGMatrix:function(){var e=this.decompose(),t=e.translate,n=e.scale,r=e.skew,o=this._q,a=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix();return a?(a=a.translate(t.x,t.y),a=a.rotate(e.rotation/Math.PI*180),a=a.scaleNonUniform(n.x,n.y),o(0,r.x)||(a=a.skewX(r.x)),o(0,r.y)||(a=a.skewY(r.y)),a):null},_q:function(e,t){return Math.abs(e-t)<1e-14},_x:function(){var e=this;return e.context&&e.context.setTransform(e.a,e.b,e.c,e.d,e.e,e.f),e}},t.Matrix=r},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";var r=n(8),o=(n.n(r),n(7));ReactDOM.render(React.createElement(o.a),document.querySelector(".cv.changeling.viewer"))}]);